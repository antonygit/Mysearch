{"version":3,"sources":["image/NoRecordFound.png","components/Search.jsx","App.js","index.js"],"names":["module","exports","Search","useState","data","setData","id","setId","isNodata","setIsNodata","useEffect","a","axios","get","then","result","console","log","push","catch","err","fetchByIdData","settingId","Id","document","getElementById","value","_myDebounce","f","d","timer","context","this","clearTimeout","setTimeout","apply","arguments","debounce","addEventListener","event","target","delete","stopImmediatePropagation","className","name","type","placeholder","required","autoComplete","onChange","src","logo","map","key","ID","IDBook","FirstName","LastName","App","ReactDOM","render","StrictMode"],"mappings":"kGAAAA,EAAOC,QAAU,IAA0B,2C,qLC0I5BC,EAtIA,WAAO,IAAD,EACKC,mBAAS,IADd,mBACZC,EADY,KACNC,EADM,OAECF,mBAAS,IAFV,mBAEZG,EAFY,KAERC,EAFQ,OAGaJ,oBAAS,GAHtB,mBAGZK,EAHY,KAGFC,EAHE,KAmCnBC,qBAAU,WACJJ,EA9BgB,WACpB,IAAIK,EAAI,GACRC,IACGC,IADH,4DAC4DP,IACzDQ,MAAK,SAAAC,GACJC,QAAQC,MACRN,EAAEO,KAAKH,EAAOX,MACdY,QAAQC,IAAIN,GACZN,EAAQM,MAETQ,OAAM,SAAAC,GACLX,GAAY,GACZO,QAAQC,IAAI,mBAkBRI,GAXRT,IACGC,IAAI,qDACJC,MAAK,SAAAC,GACJV,EAAQU,EAAOX,SAEhBe,OAAM,SAAAC,GACLJ,QAAQC,IAAIG,QASf,CAACd,IAEJ,IAAMgB,EAAY,WAChB,IAAIC,EAAKC,SAASC,eAAe,UAAUC,MAC3CnB,EAAMgB,GACNd,GAAY,IAcRkB,EAXW,SAACC,EAAGC,GACnB,IAAIC,EACJ,OAAO,WAAY,IAAD,YACZC,EAAUC,KACdC,aAAaH,GACbA,EAAQI,YAAW,WACjBZ,EAAUa,MAAMJ,EAASK,KACxBP,IAIaQ,CAASf,EAAW,KAexC,OAbAE,SAASc,iBAAiB,SAAS,SAASC,GAC1C,IAAIjC,EAAKiC,EAAMC,OAAOlC,GACE,WAApBiC,EAAMC,OAAOlC,IACfM,IACG6B,OADH,4DAC+DnC,IAC5DQ,MAAK,SAAAC,GACJC,QAAQC,IAAIF,MAEbI,OAAM,SAAAC,GACLJ,QAAQC,IAAIG,MAElBmB,EAAMG,8BAGN,kBAAC,WAAD,KACE,6BAASC,UAAU,QACjB,0BAAMC,KAAK,QAAQD,UAAU,eAC3B,2BACEE,KAAK,OACLC,YAAY,oBACZF,KAAK,WACLtC,GAAG,SACHyC,UAAQ,EACRC,aAAa,MACbC,SAAUtB,KAQd,yBAAKgB,UAAU,gBACXnC,EAgCA,yBAAK0C,IAAKC,MA/BV,+BACE,+BACE,4BACE,kCACA,uCACA,0CACA,2CAGJ,+BACG/C,EAAKgD,KAAI,SAAAhD,GAAI,OACZ,wBAAIiD,IAAKjD,EAAKkD,IACZ,4BAAKlD,EAAKkD,IAEV,4BAAKlD,EAAKmD,QACV,4BAAKnD,EAAKoD,WACV,4BAAKpD,EAAKqD,UACV,4BACE,4BACEZ,KAAK,SACLvC,GAAIF,EAAKkD,GACTX,UAAU,gBAHZ,UAMU,eC3GjBe,MAZf,WACE,OACE,0BAAMf,UAAU,OAGd,kBAAC,EAAD,QCJNgB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFrC,SAASC,eAAe,W","file":"static/js/main.87a1bddd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/NoRecordFound.7684261a.png\";","import React, { Fragment, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport logo from \"../image/NoRecordFound.png\";\n\nconst Search = () => {\n  const [data, setData] = useState([]);\n  const [id, setId] = useState(\"\");\n  const [isNodata, setIsNodata] = useState(false);\n\n  /*Single fetch*/\n  const fetchByIdData = () => {\n    let a = [];\n    axios\n      .get(`https://fakerestapi.azurewebsites.net/api/Authors/${id}`)\n      .then(result => {\n        console.log();\n        a.push(result.data);\n        console.log(a);\n        setData(a);\n      })\n      .catch(err => {\n        setIsNodata(true);\n        console.log(\"invalid data\");\n      });\n  };\n\n  /*Multi fetch*/\n\n  const fetchAllData = () => {\n    axios\n      .get(\"https://fakerestapi.azurewebsites.net/api/Authors\")\n      .then(result => {\n        setData(result.data);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    if (id) fetchByIdData();\n    else {\n      fetchAllData();\n    }\n  }, [id]);\n\n  const settingId = () => {\n    var Id = document.getElementById(\"search\").value;\n    setId(Id);\n    setIsNodata(false);\n  };\n\n  const debounce = (f, d) => {\n    let timer;\n    return function() {\n      let context = this;\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        settingId.apply(context, arguments);\n      }, d);\n    };\n  };\n\n  const _myDebounce = debounce(settingId, 300);\n\n  document.addEventListener(\"click\", function(event) {\n    let id = event.target.id;\n    if (event.target.id !== \"search\")\n      axios\n        .delete(`https://fakerestapi.azurewebsites.net/api/Authors/${id}`)\n        .then(result => {\n          console.log(result);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    event.stopImmediatePropagation();\n  });\n  return (\n    <Fragment>\n      <section className=\"main\">\n        <form name=\"login\" className=\"search-form\">\n          <input\n            type=\"text\"\n            placeholder=\"Search Using ID..\"\n            name=\"username\"\n            id=\"search\"\n            required\n            autoComplete=\"off\"\n            onChange={_myDebounce}\n          />\n          {/* <div className=\"button-submit\">\n            <button type=\"submit\" id=\"loginButton\">\n              Search\n            </button>\n          </div> */}\n        </form>\n        <div className=\"table-search\">\n          {!isNodata ? (\n            <table>\n              <tbody>\n                <tr>\n                  <th>Id</th>\n                  <th>Book id</th>\n                  <th>First name</th>\n                  <th>Last name</th>\n                </tr>\n              </tbody>\n              <tbody>\n                {data.map(data => (\n                  <tr key={data.ID}>\n                    <td>{data.ID}</td>\n\n                    <td>{data.IDBook}</td>\n                    <td>{data.FirstName}</td>\n                    <td>{data.LastName}</td>\n                    <td>\n                      <button\n                        type=\"submit\"\n                        id={data.ID}\n                        className=\"delete-table\"\n                      >\n                        Delete\n                      </button>{\" \"}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          ) : (\n            <img src={logo} />\n          )}\n        </div>\n      </section>\n    </Fragment>\n  );\n};\n\nexport default Search;\n","import React from 'react';\nimport  Form  from './components/Form';\nimport Search from './components/Search';\n\nfunction App() {\n  return (\n    <main className=\"app\">\n      {/* <Form /> */}\n \n      <Search/>\n\n        \n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/App.css';\nimport App from './App';\n \nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n \n"],"sourceRoot":""}